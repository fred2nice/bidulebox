 :root{
    --box-w: 820px; --box-h: 340px; --box-d: 210px;
    --btn-size: 64px; --gap: 22px;
    --bg-1:#0b0e14; --bg-2:#10141c;
    --hud:#24e0ff; --hud2:#8affb7; --hud-red:#ff5b6e;
    --txt:#e8ecf2; --muted:#aab2bf;
	}
  html,body{height:100%;margin:0;background:radial-gradient(1200px 900px at 50% 0%, #1a2230 0%, #0f141d 45%, #0a0d14 100%);
    color:var(--txt); font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial;}
  body::before{
    content:""; position:fixed; inset:-10%;
    background:
      radial-gradient(60% 30% at 50% -10%, rgba(36,224,255,.20), transparent 60%),
      radial-gradient(30% 20% at 20% 10%, rgba(138,255,183,.12), transparent 70%),
      radial-gradient(20% 15% at 80% 8%, rgba(255,91,110,.10), transparent 70%);
    pointer-events:none; filter:blur(40px);
  }
  .header{display:grid; place-items:center; padding:28px 16px 6px;}
  .title{font-weight:800; letter-spacing:.12em; text-transform:uppercase; display:inline-grid; place-items:center; gap:10px;}
  .title .line{height:2px; width:260px; background:linear-gradient(90deg, transparent, var(--hud) 30%, var(--hud2) 70%, transparent);
    box-shadow:0 0 18px var(--hud), 0 0 28px var(--hud2); opacity:.65;}
  .title h1{margin:0; font-size: clamp(22px, 3.2vw, 36px); text-shadow: 0 0 12px rgba(36,224,255,.35);}
  .subtitle{margin-top:6px; font-size:12.5px; letter-spacing:.25em; color:var(--muted); text-transform:uppercase;}
  .stage{min-height:calc(100% - 120px); display:grid; place-items:center; perspective:1100px; perspective-origin:50% 45%;}
  .box{position:relative;width:var(--box-w);height:var(--box-h); transform-style:preserve-3d; transform: rotateX(360deg) rotateY(359deg);
    filter: drop-shadow(0 28px 34px rgba(0,0,0,.45));}
  .face{position:absolute;inset:0;background:linear-gradient(180deg,#14161b,#0d0f13);
    border-radius:10px;border:1px solid #0a0b0e; box-shadow:inset 0 0 0 1px #0008,inset 0 -8px 28px #0007;}
  .top,.right{position:absolute;background:linear-gradient(#181b21,#0e1117);}
  .top{left:0;right:0;height:calc(var(--box-d)*.34);transform-origin:bottom;
    transform:rotateX(90deg) translateZ(calc(var(--box-d)*.34));border-radius:10px 10px 0 0;}
  .right{top:0;bottom:0;width:calc(var(--box-d)*.44);right:-1px;transform-origin:left;
    transform:rotateY(90deg) translateZ(calc(var(--box-d)*.44));border-radius:0 10px 10px 0;}
  .grid{position:absolute;inset:0;display:grid; grid-template-columns: 220px repeat(3, 1fr);
    grid-template-rows: 42px 1fr 1fr 1fr 12px; gap: var(--gap); padding: 26px 28px 26px 26px;}

  /* LEDs */
  .led{position:absolute; top:-24px; z-index:2; cursor:pointer; width:26px; height:38px;
    border-radius:13px 13px 8px 8px / 18px 18px 8px 8px; border:1px solid #2a2a2a;
    box-shadow: inset 0 -3px 6px rgba(0,0,0,.55), inset 0  3px 6px rgba(255,255,255,.08), 0 6px 12px rgba(0,0,0,.55);
    background:#111; z-index:-1;}
  .led::before{content:""; position:absolute; left:2px; right:2px; bottom:4px; height:6px; border-radius:3px;
    background:linear-gradient(180deg, rgba(0,0,0,.4), rgba(255,255,255,.08)), radial-gradient(80% 120% at 50% 0%, rgba(0,0,0,.25), transparent 70%);
    box-shadow: inset 0 2px 3px rgba(0,0,0,.6); pointer-events:none;}
  .led::after{content:""; position:absolute; top:6px; left:7px; width:12px; height:8px; border-radius:50%;
    background:rgba(255,255,255,.85); filter:blur(.6px); opacity:.85; pointer-events:none;}
  .led[data-color="red"]{background: radial-gradient(70% 50% at 50% 16%, rgba(255,255,255,.18), transparent 60%),
                          linear-gradient(180deg, rgba(120,0,0,.9) 18%, rgba(60,0,0,1) 100%); border-color:#3b0a0a;}
  .led[data-color="green"]{background: radial-gradient(70% 50% at 50% 16%, rgba(255,255,255,.18), transparent 60%),
                            linear-gradient(180deg, rgba(0,90,30,.9) 18%, rgba(0,45,18,1) 100%); border-color:#0a2d17;}
  .led.on[data-color="red"]{background: radial-gradient(70% 50% at 50% 14%, rgba(255,255,255,.28), transparent 60%),
                            linear-gradient(180deg, rgba(255,95,95,1) 18%, rgba(150,0,0,1) 100%);
    box-shadow: inset 0 -2px 5px rgba(0,0,0,.45), inset 0  3px 7px rgba(255,180,180,.45), 0 0 10px 4px rgba(255,0,0,.55), 0 0 22px 10px rgba(255,0,0,.35);}
  .led.on[data-color="green"]{background: radial-gradient(70% 50% at 50% 14%, rgba(255,255,255,.26), transparent 60%),
                              linear-gradient(180deg, rgba(60,230,120,1) 18%, rgba(0,120,55,1) 100%);
    box-shadow: inset 0 -2px 5px rgba(0,0,0,.45), inset 0  3px 7px rgba(200,255,220,.35), 0 0 10px 4px rgba(0,255,140,.5), 0 0 22px 10px rgba(0,255,140,.32);}
  .l-red{left:90px} .l-green{right:90px}

  /* Interrupteur */
  .switch{grid-column:1;grid-row:2 / span 2;display:flex;align-items:center;justify-content:center;cursor:pointer}
  .switch svg {width:130px;height:135px;display:block;filter:drop-shadow(0 6px 10px rgba(0,0,0,.45));margin-top:-50px;}
  .switch.on  .arm{transform:rotate(0deg)}
  .switch.off .arm{transform:rotate(180deg)}

  /* Boutons */
  .btn{--c:#2a86e9; position:relative; width:var(--btn-size); height:var(--btn-size); border-radius:50%;
    margin:auto; transform:translateZ(4px);
    background: radial-gradient(140% 140% at 30% 25%, #fff8, transparent 45%),
               radial-gradient(110% 110% at 70% 75%, #0006, transparent 40%),
               radial-gradient(100% 100% at 50% 50%, var(--c), color-mix(in oklab, var(--c) 55%, #000));
    box-shadow: inset 0 0 0 2px #0009, inset 0 8px 14px rgba(255,255,255,.18), 0 8px 16px rgba(0,0,0,.55),
                0 0 0 7px #0b0c10, 0 0 0 9px #16181b;
    transition:transform .08s ease, box-shadow .08s ease, filter .08s ease; cursor:pointer;}
  .btn.white{--c:#e9e9ea}.btn.red{--c:#c22}.btn.blue{--c:#1c7be3}.btn.green{--c:#1a9b53}
  .btn:active,.btn.pressed{transform:translateY(3px);box-shadow:inset 0 3px 8px rgba(0,0,0,.7),0 4px 9px rgba(0,0,0,.45),
                0 0 0 7px #0b0c10,0 0 0 9px #16181b;filter:brightness(.95)}
  .b-red  {grid-column:1;grid-row:4}
  .b-white{grid-column:2;grid-row:4}
  .b-blue {grid-column:3;grid-row:4}
  .b-green{grid-column:4;grid-row:4}
  .r-blue {grid-column:3;grid-row:2}
  .r-white{grid-column:4;grid-row:2}

  .off-state .btn{filter:grayscale(1) brightness(.8);pointer-events:none}
  .off-state .led{filter:grayscale(.6) brightness(.8);pointer-events:none}
  @media (max-width:900px){ :root{--box-w:92vw;--btn-size:56px} }

  /* Popin (générique) */
  .popin-backdrop{
    position:fixed; inset:0; display:none; place-items:center;
    background:radial-gradient(120% 120% at 50% 50%, rgba(4,8,14,.88), rgba(4,8,14,.92));
    backdrop-filter: blur(6px) saturate(115%); z-index:9999;}
  .popin-backdrop[aria-hidden="false"]{display:grid; animation:fadeIn .18s ease-out;}
  @keyframes fadeIn{from{opacity:0}to{opacity:1}}
  .popin{width:min(680px, 90vw); background:linear-gradient(180deg, rgba(16,22,30,.96), rgba(10,14,20,.96));
    border:1px solid rgba(36,224,255,.25); border-radius:18px;
    box-shadow:0 0 0 1px rgba(36,224,255,.25) inset, 0 0 40px rgba(36,224,255,.18), 0 14px 60px rgba(0,0,0,.6);
    transform:translateY(18px) scale(.98); animation:pop .22s ease-out forwards; position:relative; overflow:hidden;}
  @keyframes pop{to{transform:translateY(0) scale(1)}}
  .popin::before, .popin::after{
    content:""; position:absolute; inset:0; pointer-events:none;
    background: conic-gradient(from 90deg at 18px 18px, var(--hud) 0 6deg, transparent 6deg) top left/100% 100% no-repeat;
    mask:
      radial-gradient(18px 18px at 0 0, #000 16px, transparent 17px) top left,
      radial-gradient(18px 18px at 100% 0, #000 16px, transparent 17px) top right,
      radial-gradient(18px 18px at 0 100%, #000 16px, transparent 17px) bottom left,
      radial-gradient(18px 18px at 100% 100%, #000 16px, transparent 17px) bottom right;
    opacity:.08;}
  .popin::after{background:linear-gradient(90deg, transparent, rgba(36,224,255,.16), transparent);
    height:1px; top:56px; left:12px; right:12px; bottom:auto; opacity:.4;}
  .popin-header{display:flex; align-items:center; gap:12px; padding:16px 18px 12px 18px;}
  .chip{flex:0 0 auto; width:14px;height:14px;border-radius:3px; background:var(--hud); box-shadow:0 0 12px var(--hud);}
  .popin-title{margin:0; font-size:18px; letter-spacing:.12em; text-transform:uppercase;}
  .popin-meta{margin-left:auto; font-size:12px; color:var(--muted); letter-spacing:.08em;}
  .popin-body{padding:18px; font-size:15px; line-height:1.5; color:#d7dee8;}
  .popin-actions{display:flex; gap:10px; justify-content:flex-end; padding:0 18px 18px;}
  .btn-hud{padding:10px 14px; border-radius:12px; font-weight:600; letter-spacing:.04em;
    background:linear-gradient(180deg, #0e1620, #0a121a); border:1px solid rgba(36,224,255,.34);
    box-shadow:0 0 18px rgba(36,224,255,.18) inset; color:var(--txt); cursor:pointer;}
  .btn-hud:hover{box-shadow:0 0 26px rgba(36,224,255,.28) inset}
  .btn-hud.secondary{border-color:#2a2f37; color:#b9c2ce; box-shadow:none}
  .btn-close{position:absolute; right:12px; top:12px; width:38px;height:38px;border-radius:12px;border:1px solid rgba(36,224,255,.25);
    background:linear-gradient(180deg,#0f1722,#0b111a); color:#cfefff; cursor:pointer; display:grid; place-items:center; font-size:18px; line-height:1;}
  .btn-close:hover{box-shadow:0 0 22px rgba(36,224,255,.25) inset}

  /* Panneau labo */
  .lab-panel{position: relative; padding: 54px; border-radius: 18px; background: linear-gradient(#ffffff, #fafbfe);
    box-shadow: 0 18px 60px rgba(0,0,0,.35), 0 0 0 1px #e6eaf2 inset, 0 1px 0 #fff inset;}
  .lab-panel::before,.lab-panel::after{content:""; position:absolute; inset:10px; border-radius:14px; pointer-events:none;}
  .lab-panel::before{border:1px dashed #cfd6e3; box-shadow: inset 0 0 0 6px #ffffff; opacity:.9;}
  .lab-panel::after{background:
    linear-gradient(#91e5ff,#91e5ff) left top/36px 2px no-repeat,
    linear-gradient(#91e5ff,#91e5ff) left top/2px 36px no-repeat,
    linear-gradient(#91e5ff,#91e5ff) right top/36px 2px no-repeat,
    linear-gradient(#91e5ff,#91e5ff) right top/2px 36px no-repeat,
    linear-gradient(#91e5ff,#91e5ff) left bottom/36px 2px no-repeat,
    linear-gradient(#91e5ff,#91e5ff) left bottom/2px 36px no-repeat,
    linear-gradient(#91e5ff,#91e5ff) right bottom/36px 2px no-repeat,
    linear-gradient(#91e5ff,#91e5ff) right bottom/2px 36px no-repeat;
    filter: drop-shadow(0 0 10px rgba(36,224,255,.45)); opacity:.6;}
  .lab-panel .box::before{content:""; position:absolute; inset:-26px; border-radius:16px; z-index:-1;
    background-image: linear-gradient(rgba(0,0,0,.03) 1px, transparent 1px), linear-gradient(90deg, rgba(0,0,0,.03) 1px, transparent 1px);
    background-size: 22px 22px; mask: linear-gradient(#000,#000);}
  @media (max-width:900px){ .lab-panel{ padding:20px; border-radius:14px; } }

  /* Fond stage */
  .stage { position: relative; background-color: #0d1017;
    background-image:
      repeating-linear-gradient(0deg, rgba(36,224,255,0.15) 0px, rgba(36,224,255,0.15) 1px, transparent 1px, transparent 40px),
      repeating-linear-gradient(90deg, rgba(36,224,255,0.15) 0px, rgba(36,224,255,0.15) 1px, transparent 1px, transparent 40px),
      repeating-linear-gradient(45deg, rgba(36,224,255,0.08) 0px, rgba(36,224,255,0.08) 1px, transparent 1px, transparent 80px),
      repeating-linear-gradient(-45deg, rgba(36,224,255,0.08) 0px, rgba(36,224,255,0.08) 1px, transparent 1px, transparent 80px);
    background-size: cover; }

  .popin-body .row{ display:grid; grid-template-columns: 1fr 1fr 1fr; gap:12px; }
  .popin-body .row .f:nth-child(2){ grid-column:auto; }
  .popin-body .f{ display:flex; flex-direction:column; gap:6px; margin-bottom:12px; }
  .popin-body label{ font-size:12px; letter-spacing:.06em; color:#aab2bf; text-transform:uppercase; }
  .popin-body input[type="text"], .popin-body input[type="number"], .popin-body textarea{
    width:auto; padding:10px 12px; border-radius:10px; background:linear-gradient(180deg,#0f1720,#0a1218);
    border:1px solid rgba(36,224,255,.22); color:#e8ecf2; outline:none; box-shadow:0 0 0 0 rgba(36,224,255,.0) inset;}
  .popin-body textarea{ resize:vertical; }
  .popin-body input:focus, .popin-body textarea:focus{ box-shadow:0 0 0 2px rgba(36,224,255,.18) inset; }
  .popin-body input[readonly]{ opacity:.7; cursor:not-allowed; }
  .f-inline{ align-self:end; }
  .chk{ display:flex; align-items:center; gap:8px; padding-top:20px; user-select:none; }
  @media (max-width:900px){ .popin-body .row{ grid-template-columns:1fr; } }

  /* Boutons actions */
  /* button.save-config, */
  /* button.save-key, */
  /* button.send-key{ */
    /* appearance:none; border:0; cursor:pointer; display:block; margin:32px auto 0; padding:14px 28px; */
    /* border-radius:14px; font-weight:800; letter-spacing:.02em; text-transform:none; font-size:1rem; color:#0b0e14; */
    /* box-shadow: 0 10px 24px rgba(36,224,255,.18), 0 2px 6px rgba(0,0,0,.25); */
    /* transition: transform .08s ease, box-shadow .12s ease, background-color .12s ease; */
  /* } */
  /* button.save-config, button.save-key { background: #68b19b; } */
  /* button.send-key{ background:#8affb7; } */
  /* button.save-config:hover, button.save-key:hover{ */
    /* background: color-mix(in oklab, var(--hud) 88%, #fff 12%); */
    /* box-shadow: 0 12px 28px rgba(36,224,255,.22), 0 3px 8px rgba(0,0,0,.28); */
  /* } */
  /* button.send-key:hover{ */
    /* background: color-mix(in oklab, var(--hud2) 88%, #fff 12%); */
    /* box-shadow: 0 12px 28px rgba(36,224,255,.22), 0 3px 8px rgba(0,0,0,.28); */
  /* } */
  /* button.save-config:active, button.save-key:active, button.send-key:active{ */
    /* transform: translateY(1px); */
    /* box-shadow: 0 6px 18px rgba(36,224,255,.18), 0 2px 6px rgba(0,0,0,.3); */
  /* } */
  /* button.save-config:focus-visible, button.save-key:focus-visible, button.send-key:focus-visible{ */
    /* outline: 2px solid color-mix(in oklab, var(--hud) 70%, #fff 0%); outline-offset: 3px; */
  /* } */
  /* button.save-config[disabled], button.save-key[disabled], button.send-key[disabled]{ opacity:.55; cursor:not-allowed; box-shadow:none; } */

  /* Popup reboot */
  .reboot-backdrop{ position:fixed; inset:0; display:none; place-items:center;
    background:radial-gradient(120% 120% at 50% 50%, rgba(4,8,14,.84), rgba(4,8,14,.90));
    backdrop-filter: blur(4px) saturate(110%); z-index:10000;}
  .reboot-backdrop[aria-hidden="false"]{ display:grid; }
  .reboot-box{ width:min(560px, 92vw); padding:24px 22px; border-radius:16px;
    background:linear-gradient(180deg, rgba(16,22,30,.94), rgba(10,14,20,.96));
    border:1px solid rgba(36,224,255,.28); box-shadow: 0 14px 60px rgba(0,0,0,.6), 0 0 36px rgba(36,224,255,.16); text-align:center;}
  .reboot-title{ margin:0 0 10px; font-weight:800; letter-spacing:.12em; text-transform:uppercase;}
  .reboot-count{ font: 800 28px/1.1 ui-sans-serif,system-ui,Segoe UI,Roboto,Arial; margin:6px 0 14px; text-shadow:0 0 12px rgba(36,224,255,.35);}
  .reboot-note{ color:#b9c2ce; font-size:14px; letter-spacing:.02em; }
  
  
  
  /* ===== Panneau d'actions — style architecte dans la zone blanche ===== */
.lab-actions{
  margin-top: 18px;
  padding: 12px 14px;
  border-radius: 12px;
  background: linear-gradient(#ffffff, #f7f9fe);
  border: 1px solid #e6eaf2;
  box-shadow:
    0 1px 0 #ffffff inset,          /* léger relief interne */
    0 0 0 1px #eef2f8 inset;        /* hairline interne */
  display: flex;
  align-items: center;
  gap: 10px;
  position: relative;
}

/* Crochets/coins bleus subtils façon plan d’archi */
.lab-actions::before,
.lab-actions::after{
  content:"";
  position:absolute; inset:8px;
  pointer-events:none;
  background:
    linear-gradient(var(--hud), var(--hud)) left top/30px 1px no-repeat,
    linear-gradient(var(--hud), var(--hud)) left top/1px 30px no-repeat,
    linear-gradient(var(--hud), var(--hud)) right bottom/30px 1px no-repeat,
    linear-gradient(var(--hud), var(--hud)) right bottom/1px 30px no-repeat;
  opacity:.15;
}

/* Légende à gauche (bleu-gris technique) */
.lab-actions .legend{
  margin-right: auto;
  display: flex; align-items: center; gap: 8px;
  font: 600 11px/1 ui-sans-serif,system-ui,Segoe UI,Roboto,Arial;
  letter-spacing: .16em; text-transform: uppercase;
  color: #7b8798;
}
.lab-actions .legend::before{
  content:""; width: 10px; height: 10px; border-radius: 2px;
  background: var(--hud); box-shadow: 0 0 10px var(--hud);
  opacity:.75;
}

/* ===== Boutons “HUD” minimalistes ===== */
.hud-btn{
  --ring: rgba(36,224,255,.22);
  --shadow: rgba(36,224,255,.16);

  appearance: none; border: 0; cursor: pointer;
  padding: 10px 14px;
  border-radius: 12px;
  font-weight: 700; letter-spacing: .06em; text-transform: none;
  font-size: 13px;
  color: #0b0e14;
  background: linear-gradient(180deg, #ffffff, #f7fbff);
  border: 1px solid #dfe6f3;
  box-shadow:
    0 0 0 1px var(--ring) inset,
    0 8px 22px var(--shadow);
  transition: transform .08s ease, box-shadow .12s ease, background-color .12s ease, border-color .12s ease;
}

/* Variantes */
.hud-btn--primary{  /* Save settings */
  --ring: rgba(36,224,255,.28);
  --shadow: rgba(36,224,255,.18);
  border-color: color-mix(in oklab, var(--hud) 26%, #e6eaf2);
}

.hud-btn--accent{   /* Save a key */
  --ring: rgba(138,255,183,.28);
  --shadow: rgba(138,255,183,.18);
  border-color: color-mix(in oklab, var(--hud2) 26%, #e6eaf2);
}

.hud-btn--confirm{  /* Done */
  background: linear-gradient(180deg, color-mix(in oklab, var(--hud2) 22%, #fff), #ffffff);
  --ring: rgba(138,255,183,.34);
  --shadow: rgba(138,255,183,.22);
  border-color: color-mix(in oklab, var(--hud2) 36%, #e6eaf2);
}

/* Hover / Active / Focus */
.hud-btn:hover{
  box-shadow:
    0 0 0 1px var(--ring) inset,
    0 12px 28px var(--shadow);
  transform: translateY(-1px);
}
.hud-btn:active{
  transform: translateY(0);
  box-shadow:
    0 0 0 1px var(--ring) inset,
    0 6px 18px var(--shadow);
}
.hud-btn:focus-visible{
  outline: 2px solid color-mix(in oklab, var(--hud) 70%, #fff 0%);
  outline-offset: 3px;
}

/* Disabled */
.hud-btn[disabled]{
  opacity:.55; cursor:not-allowed; box-shadow:none;
}

/* Responsive : empile sur mobile */
@media (max-width:900px){
  .lab-actions{
    flex-wrap: wrap;
    justify-content: flex-end;
    gap: 8px 10px;
  }
  .lab-actions .legend{ flex-basis: 100%; margin: 0 0 6px 0; }
}
/* ===== Panneau d’actions — variante bleu-noir translucide ===== */
.lab-actions{
  margin-top: 18px;
  display: flex; align-items: center; gap: 12px;
  position: relative;
}
.lab-actions .legend{
  margin-right: auto;
  font: 600 11px/1 ui-sans-serif,system-ui,Segoe UI,Roboto,Arial;
  letter-spacing:.16em; text-transform:uppercase; color:#7b8798;
  display:flex; align-items:center; gap:8px;
}
.lab-actions .legend::before{
  content:""; width:10px; height:10px; border-radius:2px;
  background: var(--hud); box-shadow: 0 0 10px var(--hud);
  opacity:.75;
}

/* Variante dark translucide, posée dans la zone blanche */
.lab-actions--dark{
  padding: 14px;
  border-radius: 14px;
  background: rgba(9, 13, 20, .65);                 /* bleu-noir translucide */
  border: 1px solid rgba(36,224,255,.14);           /* hairline cyan */
  box-shadow:
    0 10px 28px rgba(0,0,0,.35),
    inset 0 0 0 1px rgba(255,255,255,.03);
  backdrop-filter: blur(6px) saturate(120%);        /* verre sombre */
}

/* Coins HUD très discrets */
.lab-actions--dark::before,
.lab-actions--dark::after{
  content:"";
  position:absolute; inset:8px; pointer-events:none; opacity:.18;
  background:
    linear-gradient(var(--hud),var(--hud)) left top/28px 1px no-repeat,
    linear-gradient(var(--hud),var(--hud)) left top/1px 28px no-repeat,
    linear-gradient(var(--hud),var(--hud)) right bottom/28px 1px no-repeat,
    linear-gradient(var(--hud),var(--hud)) right bottom/1px 28px no-repeat;
}

/* ===== Boutons HUD sombres, épurés ===== */
.hud-btn{
  --ring: rgba(36,224,255,.26);
  --glow: rgba(36,224,255,.18);

  appearance:none; border:0; cursor:pointer;
  padding: 10px 16px;
  border-radius: 12px;
  font-weight:700; letter-spacing:.04em; font-size:13px;
  color:#dbe7ff;                                   /* texte clair */
  background: linear-gradient(180deg,#161d2a,#0d121b);  /* sombre */
  border: 1px solid rgba(36,224,255,.22);
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.03),
    0 8px 20px rgba(0,0,0,.50);
  transition: transform .08s ease, box-shadow .14s ease, border-color .14s ease, background-color .14s ease;
  min-width: 180px;
}

/* Variantes (accent = vert, primary = cyan, confirm = vert + plus “armé”) */
.hud-btn--primary{  /* Save settings */
  --ring: rgba(36,224,255,.34);
  --glow: rgba(36,224,255,.22);
}
.hud-btn--accent{   /* Save a key */
  --ring: rgba(138,255,183,.30);
  --glow: rgba(138,255,183,.20);
  border-color: color-mix(in oklab, var(--hud2) 45%, #0c121b);
}
.hud-btn--confirm{  /* Done */
  --ring: rgba(138,255,183,.40);
  --glow: rgba(138,255,183,.26);
  background: linear-gradient(180deg,#18232f,#0f161f);
  border-color: color-mix(in oklab, var(--hud2) 55%, #0c121b);
}

/* États */
.hud-btn:hover{
  transform: translateY(-1px);
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.04),
    0 0 0 1px var(--ring),
    0 14px 32px var(--glow),
    0 10px 22px rgba(0,0,0,.5);
}
.hud-btn:active{
  transform: translateY(0);
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.04),
    0 0 0 1px var(--ring),
    0 8px 20px rgba(0,0,0,.55);
}
.hud-btn:focus-visible{
  outline: 2px solid color-mix(in oklab, var(--hud) 70%, #fff 0%);
  outline-offset: 3px;
}
.hud-btn[disabled]{ opacity:.55; cursor:not-allowed; box-shadow:none; }

/* Bouton caché via [hidden] */
.hud-btn[hidden]{ display:none !important; }

/* Responsive : empile proprement */
@media (max-width:900px){
  .lab-actions--dark{ display:grid; grid-template-columns:1fr; gap:10px; }
  .lab-actions--dark .legend{ order:-1; margin:0 0 6px 0; }
  .hud-btn{ width:100%; min-width:0; }
}

/* ===== Panneau d’actions — bleu-noir translucide, façon popin ===== */
.lab-actions{
  margin-top:18px; position:relative; display:flex; align-items:center; gap:12px;
}
.lab-actions .legend{
  margin-right:auto; display:flex; align-items:center; gap:10px;
  font: 800 12px/1 ui-sans-serif,system-ui,Segoe UI,Roboto,Arial;
  letter-spacing:.18em; text-transform:uppercase; color:#a6b4c8;
}
.lab-actions .legend::before{
  content:""; width:12px; height:12px; border-radius:3px;
  background: var(--hud); box-shadow:0 0 16px color-mix(in oklab, var(--hud) 70%, #000 30%);
  opacity:.9;
}

/* conteneur “verre sombre” */
.lab-actions--neo{
  padding:36px; border-radius:16px;
  background: linear-gradient(180deg, rgba(9,14,22,.78), rgba(7,11,18,.78));
  border:1px solid rgba(36,224,255,.16);
  box-shadow:
    0 12px 32px rgba(0,0,0,.45),
    inset 0 0 0 1px rgba(255,255,255,.03);
  backdrop-filter: blur(6px) saturate(120%);
  margin-bottom:60px;
}

/* coins HUD minimalistes */
.lab-actions--neo::before,
.lab-actions--neo::after{
  content:""; position:absolute; inset:10px; pointer-events:none; opacity:.22;
  background:
    linear-gradient(var(--hud),var(--hud)) left top/28px 1px no-repeat,
    linear-gradient(var(--hud),var(--hud)) left top/1px 28px no-repeat,
    linear-gradient(var(--hud),var(--hud)) right bottom/28px 1px no-repeat,
    linear-gradient(var(--hud),var(--hud)) right bottom/1px 28px no-repeat;
}

/* ===== Boutons HUD sombres (tout en cyan, pas de vert) ===== */
.btn-neo{
  --ring: rgba(36,224,255,.34);
  --glow: rgba(36,224,255,.22);

  appearance:none; border:0; cursor:pointer;
  padding:12px 20px; border-radius:14px;
  font-weight:800; letter-spacing:.04em; font-size:14px;
  color:#dbe8ff;
  background: linear-gradient(180deg,#161e2b,#0f1723);
  border:1px solid rgba(36,224,255,.24);
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.03),
    0 10px 22px rgba(0,0,0,.50);
  transition:transform .08s ease, box-shadow .14s ease, border-color .14s ease, background-color .14s ease;
  min-width: 200px;
}

/* pleine importance (cyan) */
.btn-neo--primary{
  background: linear-gradient(180deg,#182435,#101a27);
  border-color: color-mix(in oklab, var(--hud) 55%, #0e1622);
}

/* version outline (ghost) pour “Save a key” */
.btn-neo--ghost{
  background: linear-gradient(180deg,#0f1622,#0b121c);
  border-color: rgba(36,224,255,.26);
  color:#cfe1ff;
}

/* états */
.btn-neo:hover{
  transform: translateY(-1px);
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.04),
    0 0 0 1px var(--ring),
    0 16px 36px var(--glow),
    0 12px 24px rgba(0,0,0,.55);
}
.btn-neo:active{
  transform: translateY(0);
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.04),
    0 0 0 1px var(--ring),
    0 8px 20px rgba(0,0,0,.55);
}
.btn-neo:focus-visible{
  outline:2px solid color-mix(in oklab, var(--hud) 70%, #fff 0%);
  outline-offset:3px;
}
.btn-neo[disabled]{ opacity:.55; cursor:not-allowed; box-shadow:none; }
.btn-neo[hidden]{ display:none !important; }

/* responsive */
@media (max-width:900px){
  .lab-actions--neo{ display:grid; grid-template-columns:1fr; gap:10px; }
  .lab-actions--neo .legend{ order:-1; margin:0 0 6px; }
  .btn-neo{ width:100%; min-width:0; }
}
